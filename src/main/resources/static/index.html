<!DOCTYPE html>
<html lang="en" ng-app="soloApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta content='true' name='HandheldFriendly'/>
    <meta content='width' name='MobileOptimized'/>
    <meta content='yes' name='apple-mobile-web-app-capable'/>
    <meta name="format-detection" content="telephone=no">

    <link rel="stylesheet" href="./lib/bootstrap.min.css"/>
    <link rel="stylesheet" href="./lib/owl-carousel.css"/>
    <link rel="stylesheet" href="./build/css/application.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

   <!-- <script type="text/javascript" src="./bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="./bower_components/angular/angular.js"></script>-->

    <title>SoloShop</title>
</head>
<body ng-controller="BaseCtrl" class="ng-cloak" ng-cloak>

<nav class="navbar navbar-fixed-top" id="topNav">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!--<a class="navbar-brand navbar-contact">
           synery26@gmail.com  +38 093 381 93 48
        </a>-->
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="pull-left"><a class="navbar-brand" href="#/">SoloBook</a></li>
                <li class="pull-left"><a ng-href="#/">{{'navbar.main' | translate }}</a></li>

                <li class="dropdown pull-left" ng-if="$root.authenticated">
                    <a href="" class="dropdown-toggle"
                                        data-toggle="dropdown">Админ<strong class="caret"></strong></a>
                    <ul class="dropdown-menu">
                        <li><a ng-href="#/admin/add-item">Добавить книгу</a></li>
                        <li><a ng-href="#/admin/add-blog">Добавить блог</a></li>
                        <li><a ng-href="#/admin/add-day">Добавить картинку дня</a></li>
                        <li><a ng-href="#/admin/remove-item">Удалить книгу</a></li>
                        <li><a ng-href="#/admin/orders">Заказы</a></li>
                    </ul>
                </li>

                <li>
                    <a>Телефон: +38 093 348 93 43 | E-mail: syneri26@gmail.com</a>
                    <!--<a><div class="phone">
                        <i class="fa fa-phone"></i> Контакты
                    </div></a>-->
                </li>

                <li class="pull-right" ng-if="!$root.authenticated"><a ng-href="#/login">Войти</a></li>
                <li class="pull-right" ng-if="$root.authenticated"><a ng-click="logout()">Выйти</a></li>
                <li class="pull-right"><a ng-href="#/cart"><span class="glyphicon glyphicon-shopping-cart"></span><strong>Корзина</strong>
                    <span class="badge badge-cart">{{cartLength()}}</span></a></li>

            </ul>
           <!-- <ul class="nav navbar-nav pull-right">
                <li ng-if="!$root.authenticated"><a ng-href="#/login">Войти</a></li>
                <li ng-if="$root.authenticated"><a ng-click="logout()">Выйти</a></li>
                <li class="pull-right"><a ng-href="#/cart"><span class="glyphicon glyphicon-shopping-cart"></span><strong>Корзина</strong>
                    <span class="badge">{{cartLength()}}</span></a></li>
            </ul>-->

        </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
</nav><!-- /.navbar -->
<!--<div class="jumbotron text-center">
    <h1>SoloBook</h1>
</div>-->

<div class="call-popup">
    <div class="contact-centre">
        Телефон: +38 093 348 93 43 | E-mail: syneri26@gmail.com
    </div>
   <!-- <a href="javascript:;" class="btn">Заказать обратный звонок</a>
    <a href="javascript:;" class="btn">Позвонить по Skype</a>
    <a href="javascript:;" class="btn">Facebook чат</a>
    <a href="javascript:;" class="btn">Skype-чат</a>-->
</div>

<div class="container">
    <div> <!-- if border - class body-border -->
        <ng-view></ng-view>
    </div>
</div>
<br>

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-sm-2">
                <h6>Copyright &copy; 2015 Viktor Moroz</h6>
            </div><!-- end col-sm-2 -->

            <div class="col-sm-4">
                <h6>About Us</h6>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div><!-- end col-sm-4 -->

            <div class="col-sm-2">
                <h6>Navigation</h6>
                <ul class="unstyled">
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Services</a></li>
                    <li><a href="#">Links</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div><!-- end col-sm-2 -->

            <div class="col-sm-2">
                <h6>Follow Us</h6>
                <ul class="unstyled">
                    <li><a href="#">Twitter</a></li>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Google Plus</a></li>
                </ul>
            </div><!-- end col-sm-2 -->

        </div><!-- end row -->
    </div><!-- end container -->
</footer>

<script type="text/javascript" src="./build/vendor.js"></script>
<script type="text/javascript" src="./build/application.js"></script>

<!--<script type="text/javascript" src="./bower_components/angular-route/angular-route.min.js"></script>
<script type="text/javascript" src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="./bower_components/ngstorage/ngStorage.min.js"></script>
<script type="text/javascript" src="./bower_components/angular-cookies/angular-cookies.min.js"></script>

<script type="text/javascript" src="./app/app.js"></script>
<script type="text/javascript" src="./app/services/BookService.js"></script>
<script type="text/javascript" src="./app/services/CartService.js"></script>
<script type="text/javascript" src="./app/services/AdminService.js"></script>
<script type="text/javascript" src="./app/services/fileUpload.js"></script>

<script type="text/javascript" src="./app/controllers/BaseCtrl.js"></script>
<script type="text/javascript" src="./app/controllers/LoginCtrl.js"></script>
<script type="text/javascript" src="./app/controllers/AdminCtrl.js"></script>
<script type="text/javascript" src="./app/controllers/BookCtrl.js"></script>
<script type="text/javascript" src="./app/controllers/CartCtrl.js"></script>
<script type="text/javascript" src="app/controllers/MainCtrl.js"></script>
<script type="text/javascript" src="./app/controllers/OrderCtrl.js"></script>

<script type="text/javascript" src="app/filters/filters.js"></script>
<script type="text/javascript" src="app/directives/directives.js"></script>-->

<script type="text/javascript">
    function mouseUpHandler (e)
    {
        var container = $(".call-popup");

        if (!container.is(e.target) // if the target of the click isn't the container...
                && container.has(e.target).length === 0) // ... nor a descendant of the container
        {
            container.hide();
            $('.phone').removeClass('act');
            $(document).unbind('mouseup', mouseUpHandler); //Remove the event listener to prevent memory leaks
        }
        console.log("asdasd");
    }

    $('.phone').click(function(e) {
        e.preventDefault();
        if( $(this).hasClass('act')){
            $(this).removeClass('act');
            $('.call-popup').hide();
            $(document).unbind('mouseup', mouseUpHandler);
        }else{
            $(this).addClass('act');
            $('.call-popup').show();
            $(document).bind("mouseup", mouseUpHandler);
        }
    });
</script>
</body>
</html>